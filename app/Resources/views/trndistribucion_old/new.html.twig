{% extends 'base.html.twig' %}

{% block body %}
    <h3>Nueva Asignación</h3>

    <div id="asignacionWizard" class="wizard">

        <ul class="wizard-steps" role="tablist">
            <li class="active done current" role="tab" aria-expanded="true">
                <h4><span>1</span>Tipos</h4> </li>
            <li role="tab" class="disabled" aria-expanded="false">
                <h4><span>2</span>Generalidades</h4> </li>
            <li role="tab" class="disabled" aria-expanded="false">
                <h4><span>3</span>Productos</h4> </li>
            <li role="tab" class="disabled" aria-expanded="false">
                <h4><span>4</span>Establecimientos</h4> </li>
        </ul>
        {{ form_start(form, {'attr' : { 'class': 'form-horizontal'}}) }}
        <div class="wizard-content">
            <div class="wizard-pane active" role="tabpanel" aria-expanded="true">
                <h5 class="box-title">Seleccione tipo de asignación</h5>


                <div class="form-group" id="gbradio" style="margin-top:10px ">
                    <div class="radio radio-success">
                        <input name="tipos" id="radio1" value="0" checked="checked" type="radio">
                        <label for="radio1"> Por análisis estadístico </label>
                    </div>
                    <div class="radio radio-success">
                        <input name="tipos" id="radio2" value="1" checked="" type="radio">
                        <label for="radio2"> Por productos </label>
                    </div>

                </div>
            </div>

            <div class="wizard-pane" role="tabpanel" aria-expanded="false">

                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group ">
                            {{ form_label(form.descripcion) }}
                            <div class="ol-md-12">
                                <span class="span12 input-icon input-icon-right">
                                    {{ form_widget(form.descripcion) }}
                                </span>
                                {{ form_errors(form.descripcion) }}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form_label(form.fechacorte)}}
                            <div class='input-group date' id='dpcorte'>
                                <span class="span12 input-icon input-icon-right">
                                    {{ form_widget(form.fechacorte) }}
                                </span>
                                {{ form_errors(form.fechacorte) }}
                                <span class="input-group-addon">
                                    <i class="icon-calender"></i>
                                </span>
                            </div>


                        </div>
                    </div>
                    <div class="col-md-6 opcional"> <h4>Cálculo de CPM</h4></div>
                </div>       
                <div class="row">
                    <div class="col-md-6">           
                        <div class="form-group">
                            {{form_label(form.apiSuministroid)}}
                            <span class="span12 input-icon input-icon-right">
                                {{ form_widget(form.apiSuministroid) }}
                            </span>
                            {{ form_errors(form.apiSuministroid) }}    
                        </div>
                    </div>
                    <div class="col-md-6 opcional">
                        <div class="form-group">

                            {{form_label(form.mesesCpm)}}
                            <span class="span12 input-icon input-icon-right">
                                {{ form_widget(form.mesesCpm) }}
                            </span>
                            {{ form_errors(form.mesesCpm) }}    
                        </div>
                    </div>
                </div>
                <div class="row">      
                    <div class="col-md-6"> 
                        <div class="form-group">
                            {{form_label(form.apiGruposuministroid)}}
                            <span class="span12 input-icon input-icon-right">
                                {{ form_widget(form.apiGruposuministroid) }}
                            </span>
                            {{ form_errors(form.apiGruposuministroid) }}    
                        </div>
                    </div>
                    <div class="col-md-6 opcional">
                        <div class="form-group">

                            {{form_label(form.mesesDistribucion)}}
                            <span class="span12 input-icon input-icon-right">
                                {{ form_widget(form.mesesDistribucion) }}
                            </span>
                            {{ form_errors(form.mesesDistribucion) }}    
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6"> 
                        
                    </div>
                    <div class="col-md-6 opcional">
                        <div class="form-group">
                            {{form_label(form.mesesAdministracion)}}
                            <span class="span12 input-icon input-icon-right">
                                {{ form_widget(form.mesesAdministracion) }}
                            </span>
                            {{ form_errors(form.mesesAdministracion) }}    
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            {{form_label(form.apiProgramaid)}}
                            <span class="span12 input-icon input-icon-right">
                                {{ form_widget(form.apiProgramaid) }}
                            </span>
                            {{ form_errors(form.apiProgramaid) }}    
                        </div>
                    </div>
                    <div class="col-md-6 opcional">
                        <div class="form-group">
                            {{form_label(form.mesesSeguridad)}}
                            <span class="span12 input-icon input-icon-right">
                                {{ form_widget(form.mesesSeguridad) }}
                            </span>
                            {{ form_errors(form.mesesSeguridad) }}    
                        </div>
                    </div>
                </div>

            </div>


            <div class="wizard-pane" role="tabpanel" aria-expanded="false">


                <h5 class="box-title">Productos en asignación</h5>
                <div class="button-box m-t-20"> 
                    <a id="select-all" class="btn btn-success btn-outline" href="javascript:void(0)">Agregar todo</a>
                    <a id="deselect-all" class="btn btn-danger btn-outline" href="javascript:void(0)">Quitar todo</a> 
                    <!--<a id="add-option" class="btn btn-success btn-outline" href="javascript:void(0)">Add option</a>
                    <a id="refresh" class="btn btn-warning btn-outline" href="javascript:void(0)">Refrescar</a>  -->
                </div>
                <select multiple="multiple" id="public-methods" name="public-methods[]">
                    <option value="Audi">Audi</option><option value="BMW">BMW</option><option value="Buick">Buick</option><option value="Cadillac">Cadillac</option><option value="Chevrolet">Chevrolet</option><option value="Chrysler">Chrysler</option><option value="Dodge">Dodge</option><option value="Fiat">Fiat</option><option value="Ford">Ford</option><option value="GMC">GMC</option><option value="Honda">Honda</option><option value="Hyundai">Hyundai</option><option value="Infiniti">Infiniti</option><option value="Jaguar">Jaguar</option><option value="Jeep">Jeep</option><option value="Kia">Kia</option><option value="Land Rover">Land Rover</option><option value="Lexus">Lexus</option><option value="Lincoln">Lincoln</option><option value="Mazda">Mazda</option><option value="Mercedes-Benz">Mercedes-Benz</option><option value="Mini">Mini</option><option value="Mitsubishi">Mitsubishi</option><option value="Nissan">Nissan</option><option value="Porsche">Porsche</option><option value="Ram">Ram</option><option value="Scion">Scion</option><option value="Smart">Smart</option><option value="Subaru">Subaru</option><option value="Suzuki">Suzuki</option><option value="Toyota">Toyota</option><option value="Volkswagen">Volkswagen</option><option value="Volvo">Volvo</option>
                </select>
            </div>

            <div class="wizard-pane" role="tabpanel" aria-expanded="false">{{ form_widget(form) }}

            </div>
        </div>
    </div>
<input type="submit" value="Create" />

    <!-- <input type="submit" value="Create" />-->
    {{ form_end(form) }}
</div>






{% endblock %}
{% block footer_js %}

    <script src="{{ asset('assets/') }}distro/js/custom-select.js" type="text/javascript"></script>
    <script src="{{ asset('assets/') }}distro/js/bootstrap-select.js" type="text/javascript"></script>
    <script src="{{ asset('assets/') }}distro/js/jquery_003.js" type="text/javascript"></script>
    <script type="text/javascript" src="{{ asset('assets/') }}distro/js/jquery_004.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/js/bootstrap-datetimepicker.min.js"></script>
    <script type="text/javascript">
        (function () {
            $('#asignacionWizard').wizard({
                onFinish: function () {
                    swal("Message Finish!", "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed lorem erat eleifend ex semper, lobortis purus sed.");
                }, buttonLabels: {
                    next: 'Siguiente',
                    back: 'Atras',
                    finish: 'Finalizar'
                }
            });
            
            
            $('#dpcorte').datetimepicker({
                viewMode: 'years',
                format: 'MM/YYYY',
                showTodayButton: true
            });
            $('.selectpicker').selectpicker();
            $('#public-methods').multiSelect();
            $('#select-all').click(function () {
                $('#public-methods').multiSelect('select_all');
                return false;
            });
            $('#deselect-all').click(function () {
                $('#public-methods').multiSelect('deselect_all');
                return false;
            });
            
            $('input[name=tipos]').click(function() {
                //0 con analisis
                //1 por producto
               
                if ($('input[name=tipos]:checked').val() > 0){                    
                    $('div.opcional').addClass('oculto');
                }else{
                    $('div.opcional').removeClass('oculto');
                };
            });
            
        })();
    </script>
{% endblock %}
{% block header_css %}
    <link href="{{ asset('assets/') }}distro/css/wizard.css" media="all" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css">
    <link href="{{ asset('assets/') }}distro/css/custom-select.css" rel="stylesheet" type="text/css">
    <link href="A{{ asset('assets/') }}distro/css/bootstrap-select.css" rel="stylesheet">
    <link href="{{ asset('assets/') }}distro/css/multi-select.css" rel="stylesheet" type="text/css" />
    <link href="{{ asset('assets/') }}distro/css/varios.css" rel="stylesheet" type="text/css" />
{% endblock%}

{% block viewtitle %} Agregar Asignación {% endblock %}   

{% block navigationlink %}

    <a class="btn btn-danger pull-right m-l-20 hidden-xs hidden-sm waves-effect waves-light" 
       href="{{ path('trndistribucion_index') }}">Volver a listado</a>

{% endblock %}
